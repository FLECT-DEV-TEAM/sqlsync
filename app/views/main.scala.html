@(list: List[models.SqlInfo], oList: List[String], verifyPage: String, scheduledTime: models.Schedule, dragged: String)

@base("SQLsync") {
<link rel="stylesheet" media="screen, print" href="@routes.Assets.at("javascripts/ext/bootstrap/css/bootstrap.min.css")">
<link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/main.css")">
<link rel='stylesheet' type='text/css' href='@routes.Assets.at("javascripts/ext/jqgrid/css/ui.jqgrid.css")' />
<link rel='stylesheet' type='text/css' href='@routes.Assets.at("javascripts/ext/timepicker/jquery-ui-timepicker.css")' />
<style>
body {
	padding: 40px;
}
.navbar-inverse .brand {
  color: #FFFFFF;
}
.error {
	color: red;
	margin-top: 20px;
}
#formList {
	list-style:none;
}
#formList li label {
	display: inline-block;
	width: 120px;
}
#formList li {
	padding: 10px;
	width: 700px;
}
#formList li:nth-child(even) {
	background-color: #e0efff;
}
#gridDiv {
	margin-top: 20px;
	width: 90%;
}
</style>
<script src="@routes.Assets.at("javascripts/ext/bootstrap/js/bootstrap.min.js")"></script>
<script type='text/javascript' src='@routes.Assets.at("javascripts/ext/jqgrid/js/i18n/grid.locale-ja.js")'></script>
<script type='text/javascript' src='@routes.Assets.at("javascripts/ext/jqgrid/js/jquery.jqGrid.src.js")'></script>
<script type='text/javascript' src='@routes.Assets.at("javascripts/ext/timepicker/jquery-ui-timepicker.js")'></script>
<script src="@routes.Assets.at("javascripts/sqlgrid.js")" type="text/javascript"></script>
<script src="@routes.Assets.at("javascripts/sqlsync.js")" type="text/javascript"></script>
<script>
var app;
$(document).ready(function() {
	$.fn.button.noConflict();
	var scheduledTime = "@scheduledTime";
	var dragged = "@dragged";
	app = new flect.app.sqlsync.SqlSync(scheduledTime, dragged);
});
</script>
<div id="header" class="navbar navbar-inverse navbar-fixed-top">
	<div class="navbar-inner">
		<div class="container-fluid">
			<span class="brand" class="active">SQLSync</span>
			<ul class="nav">
				<li><a href="@routes.Assets.at("ja/manual.html")">使い方</a></li>
			</ul>
		</div>
	</div>
</div>
<div>
	<div>
		<h2>同期SQL一覧</h2>
		<table id="sql-table" border="1" class="table table-striped table-bordered table-hover">
			<thead>
				<tr>
					<th>名前</th>
					<th>説明</th>
					<th>オブジェクト名</th>
					<th>外部ID</th>
					<th>前回対象日時</th>
					<th>次回対象日時</th>
					<th>ステータス</th>
					<th>メッセージ</th>
				</tr>
			</thead>
			<tbody>
				@list.map{ obj =>
				<tr class="sqlinfo" data-sql="@obj.sql" data-seqNo="@obj.seqNo" data-name="@obj.name">
					<td>@obj.name</td>
					<td>@obj.desc</td>
					<td>@obj.objectName</td>
					<td>@obj.externalIdFieldName</td>
					<td>@obj.prevExecuted.format("yyyy-MM-dd HH:mm:ss")</td>
					<td>@obj.lastExecuted.format("yyyy-MM-dd HH:mm:ss")</td>
					<td>@obj.status</td>
					<td>@obj.message</td>
				</tr>}
			</tbody>
		</table>
		<span>スケジュール時刻： </span>
		<div class="input-append" style="display:inline-block">
			<select id="scheduledTime" style="width:80px;">
				<option value="00:00:00">00:00</option>
				<option value="00:30:00">00:30</option>
				<option value="01:00:00">01:00</option>
				<option value="01:30:00">01:30</option>
				<option value="02:00:00">02:00</option>
				<option value="02:30:00">02:30</option>
				<option value="03:00:00">03:00</option>
				<option value="03:30:00">03:30</option>
				<option value="04:00:00">04:00</option>
				<option value="04:30:00">04:30</option>
				<option value="05:00:00">05:00</option>
				<option value="05:30:00">05:30</option>
				<option value="06:00:00">06:00</option>
				<option value="06:30:00">06:30</option>
				<option value="07:00:00">07:00</option>
				<option value="07:30:00">07:30</option>
				<option value="08:00:00">08:00</option>
				<option value="08:30:00">08:30</option>
				<option value="09:00:00">09:00</option>
				<option value="09:30:00">09:30</option>
				<option value="10:00:00">10:00</option>
				<option value="10:30:00">10:30</option>
				<option value="11:00:00">11:00</option>
				<option value="11:30:00">11:30</option>
				<option value="12:00:00">12:00</option>
				<option value="12:30:00">12:30</option>
				<option value="13:00:00">13:00</option>
				<option value="13:30:00">13:30</option>
				<option value="14:00:00">14:00</option>
				<option value="14:30:00">14:30</option>
				<option value="15:00:00">15:00</option>
				<option value="15:30:00">15:30</option>
				<option value="16:00:00">16:00</option>
				<option value="16:30:00">16:30</option>
				<option value="17:00:00">17:00</option>
				<option value="17:30:00">17:30</option>
				<option value="18:00:00">18:00</option>
				<option value="18:30:00">18:30</option>
				<option value="19:00:00">19:00</option>
				<option value="19:30:00">19:30</option>
				<option value="20:00:00">20:00</option>
				<option value="20:30:00">20:30</option>
				<option value="21:00:00">21:00</option>
				<option value="21:30:00">21:30</option>
				<option value="22:00:00">22:00</option>
				<option value="22:30:00">22:30</option>
				<option value="23:00:00">23:00</option>
				<option value="23:30:00">23:30</option>
			</select>
			<button class="btn" id="btnSchedule">設定</button>
		</div>
		<span style="margin-left: 20px;">
			<a href="@verifyPage" target="_blank">同期ジョブ状態確認</a>
		</span>
	</div>
	<hr>
	<div>
		<ul id="formList">
			<li>
				<label>名前</label>
				<input class="sql-data" type="text" id="name" name="name" value="">
			</li>
			<li>
				<label>説明</label>
				<input class="sql-data input-xxlarge" type="text" id="desc" name="desc" value="">
			</li>
			<li>
				<label>SQL</label>
				<textarea class="sql-data input-xxlarge" id="sql" name="sql" cols="120" rows="10"></textarea>
			</li>
			<li>
				<label>オブジェクト名</label>
				<select class="sql-data"  type="text" id="objectName" name="objectName">@oList.map{ s => <option value="@s">@s</option>}</select>
			</li>
			<li>
				<label>外部ID</label>
				<input class="sql-data" type="text" id="externalIdFieldName" name="externalIdFieldName" value="">
			</li>
			<li>
				<label>対象日時</label>
				<input type="text" id="sql-datetime" name="sql-datetime">
			</li>
		</ul>
	</div>
	<div style="margin-bottom:10px;">
		<button id="btnUpdate" class="btn btn-info" disabled>更新</button>
		<button id="btnDelete" class="btn btn-info" disabled>削除</button>
		<button id="btnAdd" class="btn btn-info" style="margin-left:550px;">新規登録</button>
	</div>
	<div style="margin-bottom:10px;">
		<button id="btnSQL" class="btn btn-info">SQLテスト実行</button> 
		<button id="btnSync" class="btn btn-info" disabled>同期実行</button> 
	</div>
	<div id="error-msg" class="error">
	</div>
	<div id="gridDiv"
	</div>
</div>
}
